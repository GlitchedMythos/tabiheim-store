import{j as d,r as S,w as vt,S as gt,x as bt,O as wt}from"./chunk-UIGDSWPH-DygWqJXZ.js";import{u as st,a as at,k as $,e as W,b as Q,p as Ct,c as O,r as St,d as $t,D as Ot,f as Pt,M as Ft,h as Mt}from"./MantineThemeProvider-DSGW3mmj.js";import{u as ot}from"./use-isomorphic-effect-C4EkTj1i.js";function xt(t){return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:t.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function jt(t){const e=xt(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function B(t){return t==="auto"||t==="dark"||t==="light"}function kt({key:t="mantine-color-scheme-value"}={}){let e;return{get:r=>{if(typeof window>"u")return r;try{const i=window.localStorage.getItem(t);return B(i)?i:r}catch{return r}},set:r=>{try{window.localStorage.setItem(t,r)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:r=>{e=i=>{i.storageArea===window.localStorage&&i.key===t&&B(i.newValue)&&r(i.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}function Et(){const t=st(),e=at(),r=$(t.breakpoints).reduce((i,a)=>{const n=t.breakpoints[a].includes("px"),o=jt(t.breakpoints[a]),s=n?`${o-.1}px`:W(o-.1),c=n?`${o}px`:W(o);return`${i}@media (max-width: ${s}) {.mantine-visible-from-${a} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${a} {display: none !important;}}`},"");return d.jsx("style",{"data-mantine-styles":"classes",nonce:e?.(),dangerouslySetInnerHTML:{__html:r}})}function U(t){return Object.entries(t).map(([e,r])=>`${e}: ${r};`).join("")}function x(t,e){return(Array.isArray(t)?t:[t]).reduce((i,a)=>`${a}{${i}}`,e)}function Tt(t,e){const r=U(t.variables),i=r?x(e,r):"",a=U(t.dark),n=U(t.light),o=a?x(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,a):"",s=n?x(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,n):"";return`${i}

${o}

${s}`}function At({color:t,theme:e,autoContrast:r}){return e.autoContrast&&Ct({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function J(t,e){return At({color:t.colors[t.primaryColor][Q(t,e)],theme:t,autoContrast:null})}function A({theme:t,color:e,colorScheme:r,name:i=e,withColorValues:a=!0}){if(!t.colors[e])return{};if(r==="light"){const s=Q(t,"light"),c={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${s===9?8:s+1})`,[`--mantine-color-${i}-light`]:O(t.colors[e][s],.1),[`--mantine-color-${i}-light-hover`]:O(t.colors[e][s],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-outline-hover`]:O(t.colors[e][s],.05)};return a?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...c}:c}const n=Q(t,"dark"),o={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${n})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${n===9?8:n+1})`,[`--mantine-color-${i}-light`]:O(t.colors[e][Math.max(0,n-2)],.15),[`--mantine-color-${i}-light-hover`]:O(t.colors[e][Math.max(0,n-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(n-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(n-4,0)})`,[`--mantine-color-${i}-outline-hover`]:O(t.colors[e][Math.max(n-4,0)],.05)};return a?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...o}:o}function Dt(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function P(t,e,r){$(e).forEach(i=>Object.assign(t,{[`--mantine-${r}-${i}`]:e[i]}))}const ct=t=>{const e=Q(t,"light"),r=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:St(t.defaultRadius),i={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":J(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":J(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};P(i.variables,t.breakpoints,"breakpoint"),P(i.variables,t.spacing,"spacing"),P(i.variables,t.fontSizes,"font-size"),P(i.variables,t.lineHeights,"line-height"),P(i.variables,t.shadows,"shadow"),P(i.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((n,o)=>{i.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),$(t.colors).forEach(n=>{const o=t.colors[n];if(Dt(o)){Object.assign(i.light,A({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,A({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((s,c)=>{i.variables[`--mantine-color-${n}-${c}`]=s}),Object.assign(i.light,A({theme:t,color:n,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,A({theme:t,color:n,colorScheme:"dark",withColorValues:!1}))});const a=t.headings.sizes;return $(a).forEach(n=>{i.variables[`--mantine-${n}-font-size`]=a[n].fontSize,i.variables[`--mantine-${n}-line-height`]=a[n].lineHeight,i.variables[`--mantine-${n}-font-weight`]=a[n].fontWeight||t.headings.fontWeight}),i};function Qt({theme:t,generator:e}){const r=ct(t),i=e?.(t);return i?$t(r,i):r}const L=ct(Ot);function qt(t){const e={variables:{},light:{},dark:{}};return $(t.variables).forEach(r=>{L.variables[r]!==t.variables[r]&&(e.variables[r]=t.variables[r])}),$(t.light).forEach(r=>{L.light[r]!==t.light[r]&&(e.light[r]=t.light[r])}),$(t.dark).forEach(r=>{L.dark[r]!==t.dark[r]&&(e.dark[r]=t.dark[r])}),e}function Rt(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function lt({cssVariablesSelector:t,deduplicateCssVariables:e}){const r=st(),i=at(),a=Pt(),n=Qt({theme:r,generator:a}),o=t===":root"&&e,s=o?qt(n):n,c=Tt(s,t);return c?d.jsx("style",{"data-mantine-styles":!0,nonce:i?.(),dangerouslySetInnerHTML:{__html:`${c}${o?"":Rt(t)}`}}):null}lt.displayName="@mantine/CssVariables";function F(t,e){const r=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,i=t!=="auto"?t:r?"dark":"light";e()?.setAttribute("data-mantine-color-scheme",i)}function It({manager:t,defaultColorScheme:e,getRootElement:r,forceColorScheme:i}){const a=S.useRef(null),[n,o]=S.useState(()=>t.get(e)),s=i||n,c=S.useCallback(l=>{i||(F(l,r),o(l),t.set(l))},[t.set,s,i]),h=S.useCallback(()=>{o(e),F(e,r),t.clear()},[t.clear,e]);return S.useEffect(()=>(t.subscribe(c),t.unsubscribe),[t.subscribe,t.unsubscribe]),ot(()=>{F(t.get(e),r)},[]),S.useEffect(()=>{if(i)return F(i,r),()=>{};i===void 0&&F(n,r),typeof window<"u"&&"matchMedia"in window&&(a.current=window.matchMedia("(prefers-color-scheme: dark)"));const l=m=>{n==="auto"&&F(m.matches?"dark":"light",r)};return a.current?.addEventListener("change",l),()=>a.current?.removeEventListener("change",l)},[n,i]),{colorScheme:s,setColorScheme:c,clearColorScheme:h}}function Ut({respectReducedMotion:t,getRootElement:e}){ot(()=>{t&&e()?.setAttribute("data-respect-reduced-motion","true")},[t])}function ut({theme:t,children:e,getStyleNonce:r,withStaticClasses:i=!0,withGlobalClasses:a=!0,deduplicateCssVariables:n=!0,withCssVariables:o=!0,cssVariablesSelector:s=":root",classNamesPrefix:c="mantine",colorSchemeManager:h=kt(),defaultColorScheme:l="light",getRootElement:m=()=>document.documentElement,cssVariablesResolver:v,forceColorScheme:w,stylesTransform:f,env:u}){const{colorScheme:y,setColorScheme:g,clearColorScheme:C}=It({defaultColorScheme:l,forceColorScheme:w,manager:h,getRootElement:m});return Ut({respectReducedMotion:t?.respectReducedMotion||!1,getRootElement:m}),d.jsx(Ft.Provider,{value:{colorScheme:y,setColorScheme:g,clearColorScheme:C,getRootElement:m,classNamesPrefix:c,getStyleNonce:r,cssVariablesResolver:v,cssVariablesSelector:s,withStaticClasses:i,stylesTransform:f,env:u},children:d.jsxs(Mt,{theme:t,children:[o&&d.jsx(lt,{cssVariablesSelector:s,deduplicateCssVariables:n}),a&&d.jsx(Et,{}),e]})})}ut.displayName="@mantine/core/MantineProvider";var R=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Kt=class{#t=Lt;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},K=new Kt;function Vt(t){setTimeout(t,0)}var I=typeof window>"u"||"Deno"in globalThis;function b(){}function Ht(t,e){return typeof t=="function"?t(e):t}function Nt(t){return typeof t=="number"&&t>=0&&t!==1/0}function Gt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function V(t,e){return typeof t=="function"?t(e):t}function _t(t,e){return typeof t=="function"?t(e):t}function Z(t,e){const{type:r="all",exact:i,fetchStatus:a,predicate:n,queryKey:o,stale:s}=t;if(o){if(i){if(e.queryHash!==G(o,e.options))return!1}else if(!k(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||a&&a!==e.state.fetchStatus||n&&!n(e))}function X(t,e){const{exact:r,status:i,predicate:a,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(r){if(j(e.options.mutationKey)!==j(n))return!1}else if(!k(e.options.mutationKey,n))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function G(t,e){return(e?.queryKeyHashFn||j)(t)}function j(t){return JSON.stringify(t,(e,r)=>H(r)?Object.keys(r).sort().reduce((i,a)=>(i[a]=r[a],i),{}):r)}function k(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>k(t[r],e[r])):!1}var zt=Object.prototype.hasOwnProperty;function ht(t,e){if(t===e)return t;const r=Y(t)&&Y(e);if(!r&&!(H(t)&&H(e)))return e;const a=(r?t:Object.keys(t)).length,n=r?e:Object.keys(e),o=n.length,s=r?new Array(o):{};let c=0;for(let h=0;h<o;h++){const l=r?h:n[h],m=t[l],v=e[l];if(m===v){s[l]=m,(r?h<a:zt.call(t,l))&&c++;continue}if(m===null||v===null||typeof m!="object"||typeof v!="object"){s[l]=v;continue}const w=ht(m,v);s[l]=w,w===m&&c++}return a===o&&c===a?t:s}function Y(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function H(t){if(!tt(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!tt(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tt(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wt(t){return new Promise(e=>{K.setTimeout(e,t)})}function Bt(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?ht(t,e):e}function Jt(t,e,r=0){const i=[...t,e];return r&&i.length>r?i.slice(1):i}function Zt(t,e,r=0){const i=[e,...t];return r&&i.length>r?i.slice(0,-1):i}var _=Symbol();function dt(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xt=class extends R{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!I&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},ft=new Xt;function Yt(){let t,e;const r=new Promise((a,n)=>{t=a,e=n});r.status="pending",r.catch(()=>{});function i(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},r.reject=a=>{i({status:"rejected",reason:a}),e(a)},r}var te=Vt;function ee(){let t=[],e=0,r=s=>{s()},i=s=>{s()},a=te;const n=s=>{e?t.push(s):a(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&a(()=>{i(()=>{s.forEach(c=>{r(c)})})})};return{batch:s=>{let c;e++;try{c=s()}finally{e--,e||o()}return c},batchCalls:s=>(...c)=>{n(()=>{s(...c)})},schedule:n,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{i=s},setScheduler:s=>{a=s}}}var p=ee(),re=class extends R{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!I&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},q=new re;function ie(t){return Math.min(1e3*2**t,3e4)}function mt(t){return(t??"online")==="online"?q.isOnline():!0}var N=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function pt(t){let e=!1,r=0,i;const a=Yt(),n=()=>a.status!=="pending",o=u=>{if(!n()){const y=new N(u);v(y),t.onCancel?.(y)}},s=()=>{e=!0},c=()=>{e=!1},h=()=>ft.isFocused()&&(t.networkMode==="always"||q.isOnline())&&t.canRun(),l=()=>mt(t.networkMode)&&t.canRun(),m=u=>{n()||(i?.(),a.resolve(u))},v=u=>{n()||(i?.(),a.reject(u))},w=()=>new Promise(u=>{i=y=>{(n()||h())&&u(y)},t.onPause?.()}).then(()=>{i=void 0,n()||t.onContinue?.()}),f=()=>{if(n())return;let u;const y=r===0?t.initialPromise:void 0;try{u=y??t.fn()}catch(g){u=Promise.reject(g)}Promise.resolve(u).then(m).catch(g=>{if(n())return;const C=t.retry??(I?0:3),M=t.retryDelay??ie,E=typeof M=="function"?M(r,g):M,T=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,g);if(e||!T){v(g);return}r++,t.onFail?.(r,g),Wt(E).then(()=>h()?void 0:w()).then(()=>{e?v(g):f()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:c,canStart:l,start:()=>(l()?f():w().then(f),a)}}var yt=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nt(this.gcTime)&&(this.#t=K.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(I?1/0:300*1e3))}clearGcTimeout(){this.#t&&(K.clearTimeout(this.#t),this.#t=void 0)}},ne=class extends yt{#t;#e;#r;#n;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=rt(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=rt(this.options);e.data!==void 0&&(this.setState(et(e.data,e.dataUpdatedAt)),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Bt(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(b).catch(b):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>_t(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>V(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Gt(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const s=this.observers.find(c=>c.options.queryFn);s&&this.setOptions(s.options)}const r=new AbortController,i=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const s=dt(this.options,e),h=(()=>{const l={client:this.#n,queryKey:this.queryKey,meta:this.meta};return i(l),l})();return this.#o=!1,this.options.persister?this.options.persister(s,h,this):s(h)},o=(()=>{const s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return i(s),s})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=pt({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:s=>{s instanceof N&&s.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},onFail:(s,c)=>{this.#s({type:"failed",failureCount:s,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const s=await this.#i.start();if(s===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(s),this.#r.config.onSuccess?.(s,this),this.#r.config.onSettled?.(s,this.state.error,this),s}catch(s){if(s instanceof N){if(s.silent)return this.#i.promise;if(s.revert){if(this.state.data===void 0)throw s;return this.state.data}}throw this.#s({type:"error",error:s}),this.#r.config.onError?.(s,this),this.#r.config.onSettled?.(this.state.data,s,this),s}finally{this.scheduleGc()}}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...se(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...et(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?i:void 0,i;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),p.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function se(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mt(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function et(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function rt(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,i=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function it(t){return{onFetch:(e,r)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,n=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},c=0;const h=async()=>{let l=!1;const m=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},v=dt(e.options,e.fetchOptions),w=async(f,u,y)=>{if(l)return Promise.reject();if(u==null&&f.pages.length)return Promise.resolve(f);const C=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:u,direction:y?"backward":"forward",meta:e.options.meta};return m(z),z})(),M=await v(C),{maxPages:E}=e.options,T=y?Zt:Jt;return{pages:T(f.pages,M,E),pageParams:T(f.pageParams,u,E)}};if(a&&n.length){const f=a==="backward",u=f?ae:nt,y={pages:n,pageParams:o},g=u(i,y);s=await w(y,g,f)}else{const f=t??n.length;do{const u=c===0?o[0]??i.initialPageParam:nt(i,s);if(c>0&&u==null)break;s=await w(s,u),c++}while(c<f)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h}}}function nt(t,{pages:e,pageParams:r}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,r[i],r):void 0}function ae(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var oe=class extends yt{#t;#e;#r;#n;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#e=[],this.state=t.state||ce(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=pt({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(n,o)=>{this.#i({type:"failed",failureCount:n,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const i=this.state.status==="pending",a=!this.#n.canStart();try{if(i)e();else{this.#i({type:"pending",variables:t,isPaused:a}),await this.#r.config.onMutate?.(t,this,r);const o=await this.options.onMutate?.(t,r);o!==this.state.context&&this.#i({type:"pending",context:o,variables:t,isPaused:a})}const n=await this.#n.start();return await this.#r.config.onSuccess?.(n,t,this.state.context,this,r),await this.options.onSuccess?.(n,t,this.state.context,r),await this.#r.config.onSettled?.(n,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(n,null,t,this.state.context,r),this.#i({type:"success",data:n}),n}catch(n){try{throw await this.#r.config.onError?.(n,t,this.state.context,this,r),await this.options.onError?.(n,t,this.state.context,r),await this.#r.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,n,t,this.state.context,r),n}finally{this.#i({type:"error",error:n})}}finally{this.#r.runNext(this)}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),p.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function ce(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var le=class extends R{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const i=new oe({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(i),i}add(t){this.#t.add(t);const e=D(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=D(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=D(t);if(typeof e=="string"){const i=this.#e.get(e)?.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=D(t);return typeof e=="string"?this.#e.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){p.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>X(e,r))}findAll(t={}){return this.getAll().filter(e=>X(t,e))}notify(t){p.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return p.batch(()=>Promise.all(t.map(e=>e.continue().catch(b))))}};function D(t){return t.options.scope?.id}var ue=class extends R{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const i=e.queryKey,a=e.queryHash??G(i,e);let n=this.get(a);return n||(n=new ne({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(n)),n}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){p.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Z(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Z(t,r)):e}notify(t){p.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){p.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){p.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},he=class{#t;#e;#r;#n;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new ue,this.#e=t.mutationCache||new le,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=ft.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=q.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),i=r.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(V(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const i=r.data;return[e,i]})}setQueryData(t,e,r){const i=this.defaultQueryOptions({queryKey:t}),n=this.#t.get(i.queryHash)?.state.data,o=Ht(e,n);if(o!==void 0)return this.#t.build(this,i).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return p.batch(()=>this.#t.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;p.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return p.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},i=p.batch(()=>this.#t.findAll(t).map(a=>a.cancel(r)));return Promise.all(i).then(b).catch(b)}invalidateQueries(t,e={}){return p.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},i=p.batch(()=>this.#t.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let n=a.fetch(void 0,r);return r.throwOnError||(n=n.catch(b)),a.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(i).then(b)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(V(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(b).catch(b)}fetchInfiniteQuery(t){return t.behavior=it(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(b).catch(b)}ensureInfiniteQueryData(t){return t.behavior=it(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return q.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(j(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(i=>{k(t,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(j(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(i=>{k(t,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=G(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},de=S.createContext(void 0),fe=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(de.Provider,{value:t,children:e}));function ve({children:t}){return d.jsxs("html",{lang:"en",children:[d.jsxs("head",{children:[d.jsx("meta",{charSet:"UTF-8"}),d.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),d.jsx("title",{children:"Tabiheim Games"})]}),d.jsxs("body",{children:[t,d.jsx(gt,{}),d.jsx(bt,{})]})]})}const ge=vt(function(){const[e]=S.useState(()=>new he({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}}));return d.jsx(fe,{client:e,children:d.jsx(ut,{children:d.jsx(wt,{})})})});export{ve as Layout,ge as default};
//# sourceMappingURL=root-DWVlEOXJ.js.map
